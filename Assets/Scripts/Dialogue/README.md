# Dialogue System Implementation

This dialogue system integrates Twine, UI Toolkit, and Pixel Crushers Dialogue System to create a branching dialogue between Orisei and Goru.

## Components

1. **DialogueUI**: UI component for displaying the dialogue
2. **DialogueManager**: Manages the dialogue flow and integration with Twine
3. **GameSceneController**: Initializes the dialogue system when the GameScene loads

## Setup Instructions

### 1. Generate UI Bindings with Rosalina

After creating or modifying the DialogueUI.uxml file, you need to generate the bindings using Rosalina:

1. Open the Rosalina window in Unity (Tools > Rosalina > Generator)
2. Select the DialogueUI.uxml file
3. Click "Generate Bindings"
4. The bindings will be generated at Assets/Rosalina/AutoGenerated/DialogueUI.g.cs

**Important**: You must manually generate the bindings before continuing with implementation.

### 2. Character Images

Add character images to the GameSceneController in the inspector:
- _oriseiImage: Assign the texture for Orisei (left character)
- _goruImage: Assign the texture for Goru (right character)

### 3. Twine File

The dialogue tree is defined in Assets/Resources/Dialogue/OriGoru.twine. You can modify this file to change the dialogue flow.

Format:
```
:: NodeName
Dialogue text goes here.

[[Option Text|TargetNode]]
[[Another Option|AnotherNode]]
```

Speaker format: "Speaker: Dialogue text"

### 4. Integration with Pixel Crushers Dialogue System

The DialogueManager loads the Twine file and integrates with the Pixel Crushers Dialogue System. The dialogue flow is managed by the DialogueManager, which updates the DialogueUI based on the current dialogue node.

## Usage

1. Add the GameSceneController to your GameScene
2. Assign character images in the inspector
3. Run the game and click Play to enter the GameScene
4. The dialogue will start automatically

## Extending the System

To add more dialogues:
1. Create a new Twine file in Assets/Resources/Dialogue/
2. Update the DialogueManager._twineFilePath to point to your new file
3. Add new character images as needed

To customize the UI:
1. Modify the DialogueUI.uxml and DialogueUI.uss files
2. Generate new bindings with Rosalina
3. Update the DialogueUI.cs class as needed